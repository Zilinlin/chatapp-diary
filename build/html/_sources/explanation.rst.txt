项目说明
======
关键功能的设计与实现技术



聊天与会话
------
将消息分为元数据、数据两部分。元数据包括消息的唯一id、该消息所属的会话的id、该消息对应的数据的id。
数据包括数据的唯一id、图片/视频/文本/音频等。

1. 会话中发送、接收、展示信息

- 消息的发送使用 http/https 协议。通过 okhttp 框架。用户终端首先向服务器发送请求表示将要发送消息，服务器收到该请求后，在数据库中创建相应消息的元数据，服务器响应会返回消息的元数据给用户终端。用户终端再将消息中的文本数据/图片数据等以 http/https 请求的方式传输给服务器，并在请求中提供该消息的元数据来告知服务器这是哪个消息的数据。

- 消息的接收结合 websocket 和 http/https 协议。当一个用户要接收消息时，服务器通过 websocket 将消息的元数据传输给用户。用户接收到元数据后，再通过 http/https 协议向服务器请求该消息的具体数据。
该部分都以多线程的方式（Thread, Runnable）运行，防止阻塞 UI 线程。

- 消息中涉及文字信息，图片信息，视频信息，音频信息以及位置。使用intent等和安卓的其他组件、软件进行交互，例如麦克风、相机、图库等，通过view、adapter等课程所学的安卓内容进行UI的绘制、图片的显示、声音的播放等。

2. 聊天信息在云端进行储存同步

- 聊天信息需要和云端同步，为了支持没有联网时也可以浏览的功能，各类数据需要同步机制。

- 可以将数据封装成若干数据管理类，在类中实现同步机制，该同步机制对上层不透明，当上层通过该类获取图片、视频等数据时，可以选择是否和云端同步。

- 以多线程的方式（Thread, Runnable）运行，防止阻塞UI线程。

用户与联系人
------

- 用户注册登录、修改密码
- 用户修改用户名、个人信息、头像
- 用户查找、添加、删除联系人


群聊与管理
------
- 发起群聊
- 查看群聊成员
- 主动退出群聊

动态发布
------
- 浏览联系人发布的动态
- 发布图文动态
- 发布视频动态
- 点赞，展示点赞人信息
- 评论，展示评论信息